<!-- templates/winner.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Game Over</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <!-- Fireworks.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/fireworks-js@2.1.0/dist/index.umd.min.js"></script>
  <style>
    /* Full-screen canvas behind content */
    #fireworks-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 0;
    }
    /* Bring text/buttons above the canvas */
    .container {
      position: relative;
      z-index: 1;
    }
    /* Space out the two buttons */
    .btn-group a + a {
      margin-top: 16px;
    }
  </style>
</head>
<body class="home-background">
  <!-- Fireworks canvas -->
  <canvas id="fireworks-canvas"></canvas>

  <div class="container">
    <h1 class="blade-title">üèÜ Congratulations, {{ name }}!</h1>
    <p>You are the last assassin standing.</p>
    <p>The game is over. Everyone else has been eliminated.</p>

    <div class="btn-group" style="text-align: center; margin-top: 24px;">
      <a href="{{ url_for('dashboard', game_over=1) }}" class="btn">Return to Dashboard</a>
      <a href="{{ url_for('logout') }}" class="btn">Logout</a>
    </div>
  </div>

  <script>
    // Kick off the fireworks show
    const canvas = document.getElementById('fireworks-canvas');
    const fireworks = new Fireworks.default(canvas, {
      speed: 1.5,   // How fast the fireworks shoot up
      acceleration: 1.02,  // How quickly they speed up as they rise
      friction: 0.96,   // How much air resistance slows the particles down
      particles: 40,    // Number of particles per explosion
      trace: 4,         // Number of trail particles (traces behind each spark)
      explosion: 4,     // How powerful the explosion is (affects spread)
    });
    fireworks.start();
  </script>
</body>
</html>
